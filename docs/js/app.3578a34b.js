(function(){"use strict";var e={9165:function(e,s,t){var a=t(144),r=function(){var e=this,s=e._self._c;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},o=[],i={components:{}},n=i,l=t(1001),c=(0,l.Z)(n,r,o,!1,null,null,null),u=c.exports,d=t(8864);a.ZP.use(d.Z);var m=new d.Z({}),p=t(8345),f=t(998),v=t(6232),h=t(3423),g=t(6190),b=t(266),_=t(2118),Z=t(4324),w=t(3059),y=t(1713),k=t(3687),x=t(7953),C=function(){var e=this,s=e._self._c;return s(f.Z,{attrs:{id:"inspire"}},[s("MainSidebar"),s(v.Z,{attrs:{app:"","shrink-on-scroll":""}},[s(x.qW,[e._v("ユーザー一覧")]),s(k.Z),s(g.Z,{attrs:{icon:""}},[s(Z.Z,[e._v("mdi-dots-vertical")])],1)],1),s(w.Z,[s(_.Z,[s(y.Z,e._l(24,(function(e){return s(b.Z,{key:e,attrs:{cols:"4"}},[s("router-link",{attrs:{to:{path:"/chat",query:{user_id:e}}}},[s(h.Z,{attrs:{color:"grey lighten-2",size:"128"}})],1)],1)})),1)],1)],1)],1)},S=[],M=t(9223),P=t(5808),O=t(4525),E=t(8200),R=t(4611),U=t(6975),V=t(7423),j=function(){var e=this,s=e._self._c;return s(U.Z,{attrs:{app:""},model:{value:e.drawer,callback:function(s){e.drawer=s},expression:"drawer"}},[s(V.Z,{staticClass:"pa-4",attrs:{color:"grey lighten-4"}},[s(h.Z,{staticClass:"mb-4",attrs:{color:"grey darken-1",size:"64"}}),s("div",{staticClass:"username"},[e._v("john@vuetifyjs.com")])],1),s(M.Z),s(P.Z,e._l(e.links,(function([t,a,r]){return s(O.Z,{key:t,attrs:{to:r,link:""}},[s(R.Z,[s(Z.Z,[e._v(e._s(t))])],1),s(E.km,[s(E.V9,[e._v(e._s(a))])],1)],1)})),1)],1)},q=[],$={name:"MainSidebar",data:()=>({drawer:null,links:[["mdi-inbox-arrow-down","Inbox","/"],["mdi-send","Send","about"],["mdi-delete","Trash","about"],["mdi-alert-octagon","Spam","about"]]})},I=$,L=(0,l.Z)(I,j,q,!1,null,"08858ced",null),T=L.exports,A={name:"UserList",components:{MainSidebar:T}},N=A,z=(0,l.Z)(N,C,S,!1,null,null,null),B=z.exports,D=function(){var e=this;e._self._c;return e._m(0)},W=[function(){var e=this,s=e._self._c;return s("div",{staticClass:"about"},[s("h1",[e._v("This is an about page")])])}],F={name:"AboutView"},G=F,Q=(0,l.Z)(G,D,W,!1,null,null,null),J=Q.exports,K=t(9582),X=t(6900),Y=t(2540),H=t(2648),ee=function(){var e=this,s=e._self._c;return s(f.Z,{attrs:{id:"inspire"}},[s("MainSidebar"),s(w.Z,[s(_.Z,{staticClass:"py-8 px-6",attrs:{fluid:""}},[s(y.Z,e._l(e.cards,(function(t){return s(b.Z,{key:t,attrs:{cols:"12"}},[s(K.Z,[s(Y.Z,[e._v(e._s(t))]),s(P.Z,{attrs:{"two-line":""}},[e._l(e.messages,(function(t,a){return[s(O.Z,{key:a},[s(X.Z,{attrs:{color:"grey darken-1"}}),s(E.km,[s(E.oZ,{staticClass:"message"},[e._v(" "+e._s(t.message)+" ")])],1)],1),6!==a?s(M.Z,{key:`divider-${a}`,attrs:{inset:""}}):e._e()]}))],2)],1)],1)})),1)],1),s(H.Z,{staticClass:"mx-2",attrs:{"append-icon":"mdi-comment",label:"メッセージを送信する","auto-grow":"",rows:"3"},model:{value:e.body,callback:function(s){e.body=s},expression:"body"}}),s(g.Z,{staticClass:"mr-4",attrs:{type:"submit",disabled:e.invalid},on:{click:e.submit}},[e._v(" submit ")]),s(g.Z,{on:{click:e.clear}},[e._v(" clear ")])],1)],1)},se=[];const te={apiKey:"AIzaSyDmNutY1nSgrkz9cq4M5m4SylCww47w8OU",authDomain:"vue-chat-9f733.firebaseapp.com",projectId:"vue-chat-9f733",storageBucket:"vue-chat-9f733.appspot.com",messagingSenderId:"945510736144",appId:"1:945510736144:web:efba957d79ddd5cb288595"};var ae=t(5503),re=t(5321);const oe=(0,ae.ZF)(te),ie=(0,re.ad)(oe);async function ne(e){const s=(0,re.hJ)(ie,e),t=(0,re.IO)(s);return await(0,re.PL)(t)}var le={components:{MainSidebar:T},async created(){this.user_id=this.$route.query.user_id,console.log("user_id: "+this.user_id);const e=await ne("chats");e.forEach((e=>{console.log("doc",e.data()),this.messages.push(e.data())}))},data:()=>({messages:[],body:"",user_id:"",cards:["Today"],drawer:null,links:[["mdi-inbox-arrow-down","Inbox"],["mdi-send","Send"],["mdi-delete","Trash"],["mdi-alert-octagon","Spam"]]}),computed:{invalid(){return console.log("computed, invalid"),!this.body}},methods:{clear(){console.log("clear call"),this.body=""},submit(){console.log("submit call",this.body),this.messages.unshift({message:this.body}),this.body=""}}},ce=le,ue=(0,l.Z)(ce,ee,se,!1,null,"eead348e",null),de=ue.exports,me=t(1653),pe=t(4886),fe=t(5125),ve=t(8088),he=function(){var e=this,s=e._self._c;return s(f.Z,[s("div",{staticClass:"login-box"},[s(K.Z,{staticClass:"login-form",attrs:{elevation:"24"}},[s(pe.EB,{staticClass:"login-title"},[e._v("Login")]),s(pe.Qq,{staticClass:"login-subtitle"},[e._v("ユーザー情報をご入力ください")]),s(g.Z,{attrs:{text:"",color:"light-blue",to:"signup"}},[e._v("新規登録はこちら")]),s(fe.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(s){e.valid=s},expression:"valid"}},[s(ve.Z,{attrs:{rules:e.emailRules,label:"E-mail",required:""},model:{value:e.email,callback:function(s){e.email=s},expression:"email"}}),s(ve.Z,{attrs:{type:"password",rules:e.passwordRules,label:"Password",required:""},model:{value:e.password,callback:function(s){e.password=s},expression:"password"}}),s(g.Z,{staticClass:"login-btn",attrs:{color:"success",disabled:e.isValid},on:{click:e.submit}},[e._v(" LOGIN ")]),s(g.Z,{on:{click:e.clear}},[e._v(" CLEAR ")]),e.message?s(me.Z,{staticClass:"success-message",attrs:{dense:"",text:"",type:"success"}},[e._v(" "+e._s(e.message)+" ")]):e._e(),e.errorMessage?s(me.Z,{staticClass:"error-message",attrs:{dense:"",outlined:"",type:"error"}},[e._v(" "+e._s(e.errorMessage)+" ")]):e._e()],1)],1)],1)])},ge=[],be=t(68),_e={data:()=>({valid:!0,email:"",emailRules:[e=>!!e||"メールアドレスを入力してください",e=>/.+@.+\..+/.test(e)||"不正なメールアドレスです"],password:"",passwordRules:[e=>!!e||"パスワードを入力してください"],message:"",errorMessage:""}),mounted(){localStorage.message&&(this.message=localStorage.message,localStorage.message="")},computed:{isValid(){return!this.valid}},methods:{validate(){this.$refs.form.validate()},reset(){this.$refs.form.reset()},resetValidation(){this.$refs.form.resetValidation()},submit(){const e=(0,be.v0)();(0,be.e5)(e,this.email,this.password).then((e=>{const s=e.user;console.log("user",s),this.$router.push("/")})).catch((e=>{const s=e.code,t=e.message;console.log("Error!: ",s),console.log("ErrorMessage: ",t),this.errorMessage="ログインに失敗しました"}))},clear(){this.email="",this.password=""}}},Ze=_e,we=(0,l.Z)(Ze,he,ge,!1,null,"4a5bdb74",null),ye=we.exports,ke=function(){var e=this,s=e._self._c;return s(f.Z,[s("div",{staticClass:"sign-up-box"},[s(K.Z,{staticClass:"sign-up-form",attrs:{elevation:"24"}},[s(pe.EB,{staticClass:"sign-up-title"},[e._v("SignUp")]),s(pe.Qq,{staticClass:"sign-up-subtitle"},[e._v("ユーザー情報をご入力ください")]),s(g.Z,{attrs:{text:"",color:"light-blue",to:"login"}},[e._v("ログインはこちら")]),s(fe.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(s){e.valid=s},expression:"valid"}},[s(ve.Z,{attrs:{rules:e.nameRules,label:"UserName",required:""},model:{value:e.name,callback:function(s){e.name=s},expression:"name"}}),s(ve.Z,{attrs:{rules:e.emailRules,label:"E-mail",required:""},model:{value:e.email,callback:function(s){e.email=s},expression:"email"}}),s(ve.Z,{attrs:{type:"password",rules:e.passwordRules,label:"Password",required:""},model:{value:e.password,callback:function(s){e.password=s},expression:"password"}}),s(g.Z,{staticClass:"sign-up-btn",attrs:{color:"success",disabled:e.isValid},on:{click:e.submit}},[e._v(" SIGN UP ")]),s(g.Z,{on:{click:e.clear}},[e._v(" CLEAR ")]),e.errorMessage?s(me.Z,{staticClass:"error-message",attrs:{dense:"",outlined:"",type:"error"}},[e._v(" "+e._s(e.errorMessage)+" ")]):e._e()],1)],1)],1)])},xe=[];async function Ce(e,s,t){let a=!1;const r=(0,be.v0)();return await(0,be.Xb)(r,s,t).then((s=>{console.log("createUserWithEmailAndPassword success",s),(0,be.ck)(s.user,{displayName:e}).then((()=>{console.log("updateProfile success",r.currentUser)})).catch((e=>{console.log("updateProfile fail",e)})),localStorage.message="新規作成に成功しました",Ue.push("/login"),a=!0})).catch((e=>{console.log("createUserWithEmailAndPassword fail",e)})),a}var Se={data:()=>({valid:!0,name:"",nameRules:[e=>!!e||"ユーザー名を入力してください",e=>e&&e.length<=10||"ユーザー名は10文字以内で入力してください"],email:"",emailRules:[e=>!!e||"メールアドレスを入力してください",e=>/.+@.+\..+/.test(e)||"不正なメールアドレスです"],password:"",passwordRules:[e=>!!e||"パスワードを入力してください"],isError:!1,errorMessage:""}),computed:{isValid(){return!this.valid}},methods:{validate(){this.$refs.form.validate()},reset(){this.$refs.form.reset()},resetValidation(){this.$refs.form.resetValidation()},submit(){Ce(this.name,this.email,this.password)||(this.errorMessage="ユーザーの新規登録に失敗しました")},clear(){this.name="",this.email="",this.password="",this.errorMessage=""}}},Me=Se,Pe=(0,l.Z)(Me,ke,xe,!1,null,"7bd5d4f2",null),Oe=Pe.exports;a.ZP.use(p.ZP);const Ee=[{path:"/",name:"UserList",component:B},{path:"/about",name:"About",component:J},{path:"/chat",name:"ChatBoard",component:de},{path:"/login",name:"LoginView",component:ye},{path:"/signUp",name:"SignUp",component:Oe}],Re=new p.ZP({routes:Ee,mode:"history",base:{NODE_ENV:"production",BASE_URL:""}.publicPath});var Ue=Re;a.ZP.config.productionTip=!1,new a.ZP({vuetify:m,router:Ue,render:e=>e(u)}).$mount("#app")}},s={};function t(a){var r=s[a];if(void 0!==r)return r.exports;var o=s[a]={exports:{}};return e[a](o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(s,a,r,o){if(!a){var i=1/0;for(u=0;u<e.length;u++){a=e[u][0],r=e[u][1],o=e[u][2];for(var n=!0,l=0;l<a.length;l++)(!1&o||i>=o)&&Object.keys(t.O).every((function(e){return t.O[e](a[l])}))?a.splice(l--,1):(n=!1,o<i&&(i=o));if(n){e.splice(u--,1);var c=r();void 0!==c&&(s=c)}}return s}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[a,r,o]}}(),function(){t.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(s,{a:s}),s}}(),function(){t.d=function(e,s){for(var a in s)t.o(s,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:s[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};t.O.j=function(s){return 0===e[s]};var s=function(s,a){var r,o,i=a[0],n=a[1],l=a[2],c=0;if(i.some((function(s){return 0!==e[s]}))){for(r in n)t.o(n,r)&&(t.m[r]=n[r]);if(l)var u=l(t)}for(s&&s(a);c<i.length;c++)o=i[c],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(u)},a=self["webpackChunkvue_training_chat"]=self["webpackChunkvue_training_chat"]||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))}();var a=t.O(void 0,[998],(function(){return t(9165)}));a=t.O(a)})();
//# sourceMappingURL=app.3578a34b.js.map